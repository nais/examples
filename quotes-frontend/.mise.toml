[tools]
node = "25.2.1"

[env]
NODE_ENV = "development"
NEXT_TELEMETRY_DISABLED = "1"

[tasks.dev]
description = "Start development server with Turbopack"
run = "pnpm dev"

[tasks.build]
description = "Build the Next.js application"
env = { NODE_ENV = "production" }
run = "pnpm build"

[tasks.start]
description = "Start production server"
run = "pnpm start"

[tasks.watch]
description = "Run development server with hot reload (alias for dev)"
run = "pnpm dev"

[tasks.lint]
description = "Run ESLint"
run = "pnpm lint"

[tasks.lint-fix]
description = "Run ESLint with auto-fix"
run = "pnpm lint --fix"

[tasks.type-check]
description = "Run TypeScript type checking"
run = "pnpm tsc --noEmit"

[tasks.install]
description = "Install dependencies"
run = "pnpm install"

[tasks.clean]
description = "Clean build artifacts and node_modules"
run = ["rm -rf .next", "rm -rf node_modules/.cache"]

[tasks.docker-build]
description = "Build Docker image"
run = "docker build -t quotes-frontend:local ."

[tasks.docker-run]
description = "Run Docker container locally"
run = "docker run -p 3000:3000 quotes-frontend:local"

[tasks.test]
description = "Run tests"
run = "pnpm vitest run"

[tasks.ci]
description = "Run all CI checks"
run = [
  "mise run install",
  "mise run lint",
  "mise run type-check",
  "mise run test",
  "mise run build",
]

[tasks."dependencies:check"]
description = "Check for outdated packages"
run = "pnpm outdated"

[tasks."dependencies:update"]
description = "Update all dependencies to latest versions"
run = "pnpm update --latest"
